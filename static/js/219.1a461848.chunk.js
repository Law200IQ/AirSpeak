"use strict";(self.webpackChunkairspeak=self.webpackChunkairspeak||[]).push([[219],{2600:(e,r,t)=>{t.r(r),t.d(r,{default:()=>oe});var o=t(5043),n=t(4535),i=t(6446),a=t(1637),s=t(5865),l=t(7724),c=t(3336),d=t(7392),p=t(6672),x=t(1962),u=t(1906),h=t(564),g=t(556),m=t(5237),b=t(4642),f=t(5874),y=t(35),A=t(4628),C=t(6600),j=t(5316),v=t(4598),k=t(5721),w=t(8569),S=t(8266),R=t(3438),I=t(701),D=t(579);const E=(0,n.Ay)(y.A)((e=>{let{theme:r}=e;return{"& .MuiDialog-paper":{backgroundColor:"#1C1C2D",color:"white",minWidth:"400px",maxWidth:"500px"}}})),B=(0,n.Ay)(A.Ay)((e=>{let{theme:r}=e;return{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px","&:last-child":{borderBottom:"none"}}})),M=(0,n.Ay)(d.A)((e=>{let{theme:r}=e;return{backgroundColor:"#4CAF50",color:"white",padding:"8px","&:hover":{backgroundColor:"#388E3C"}}})),W=e=>{let{open:r,onClose:t,callHistory:o=[],onCallUser:n}=e;const a=e=>{const r=new Date(e);return"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())},l=e=>{if(!e)return null;const r=I[e];return r?(0,D.jsx)(i.A,{component:"span",sx:{display:"inline-block",width:"24px",height:"16px",marginRight:"8px",verticalAlign:"middle"},children:(0,D.jsx)(r,{})}):null};return(0,D.jsxs)(E,{open:r,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,D.jsxs)(C.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,D.jsx)(s.A,{variant:"h6",children:"Call History"}),(0,D.jsx)(d.A,{onClick:t,sx:{color:"white"},children:(0,D.jsx)(R.A,{})})]}),(0,D.jsxs)(j.A,{sx:{p:0},children:[(0,D.jsx)(i.A,{sx:{p:2,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,D.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(v.A,{defaultChecked:!0,size:"small",sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#6C5DD3"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#6C5DD3"}}}),(0,D.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"Allow Incoming Call Requests"})]})}),0===o.length?(0,D.jsx)(i.A,{sx:{py:2,textAlign:"center"},children:(0,D.jsx)(s.A,{variant:"body1",color:"text.secondary",children:"No call history available"})}):(0,D.jsx)(k.A,{sx:{py:0},children:o.map(((e,r)=>(0,D.jsxs)(B,{disableGutters:!0,children:[(0,D.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[l(e.participantCountries[1]),(0,D.jsx)(w.A,{primary:e.participantCountries[1],secondary:(0,D.jsx)(s.A,{variant:"body2",color:"text.secondary",children:a(e.startTime)})})]}),(0,D.jsx)(S.A,{children:(0,D.jsx)(M,{size:"small",onClick:()=>n(e.participants[1]),children:(0,D.jsx)(h.A,{fontSize:"small"})})})]},r)))})]})]})},F=(0,n.Ay)(y.A)((e=>{let{theme:r}=e;return{"& .MuiDialog-paper":{backgroundColor:"#1C1C2D",color:"white",minWidth:"400px",maxWidth:"500px",borderRadius:"12px",margin:"16px",[r.breakpoints.down("sm")]:{minWidth:"calc(100% - 32px)",margin:"16px"}}}})),T=(0,n.Ay)(u.A)((e=>{let{theme:r}=e;return{backgroundColor:"#0070BA",color:"white",padding:"12px 24px",borderRadius:"24px",textTransform:"none",fontSize:"16px",marginTop:"24px",display:"flex",alignItems:"center",gap:"8px",position:"relative",overflow:"hidden",transition:"all 0.3s ease",whiteSpace:"nowrap",[r.breakpoints.down("sm")]:{fontSize:"14px",padding:"10px 20px"},"&:hover":{backgroundColor:"#005ea6",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 112, 186, 0.4)","&::before":{transform:"translateX(100%)"}},"&::before":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",transition:"transform 0.5s ease"}}})),L=e=>{let{open:r,onClose:t}=e;return(0,D.jsx)(F,{open:r,onClose:t,maxWidth:"sm",fullWidth:!0,children:(0,D.jsxs)(j.A,{sx:{p:{xs:2,sm:4},"& .MuiTypography-root":{fontSize:{xs:"14px",sm:"16px"}},"& .MuiTypography-h5":{fontSize:{xs:"20px",sm:"24px"}}},children:[(0,D.jsx)(i.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,D.jsx)(d.A,{onClick:t,sx:{color:"white"},children:(0,D.jsx)(R.A,{})})}),(0,D.jsx)(i.A,{sx:{textAlign:"center",mb:3},children:(0,D.jsx)(s.A,{variant:"h5",sx:{mb:2},children:"Support AirSpeak \ud83c\udf89"})}),(0,D.jsx)(s.A,{variant:"body1",sx:{mb:2},children:"Dear AirSpeak Community,"}),(0,D.jsx)(s.A,{variant:"body1",sx:{mb:2},children:"Your support is the lifeblood of AirSpeak, and we're grateful for your contributions. Whether through donations or other means, your involvement plays a vital role in enhancing and maintaining our platform."}),(0,D.jsx)(s.A,{variant:"body1",sx:{mb:2},children:"Your generosity assists us in:"}),(0,D.jsxs)(i.A,{component:"ul",sx:{mb:3,pl:3},children:[(0,D.jsx)(s.A,{component:"li",sx:{mb:1},children:"Advancing the platform with new features"}),(0,D.jsx)(s.A,{component:"li",sx:{mb:1},children:"Ensuring a seamless and enjoyable experience"}),(0,D.jsx)(s.A,{component:"li",sx:{mb:1},children:"Supporting ongoing operations and infrastructure"})]}),(0,D.jsx)(s.A,{variant:"body1",sx:{mb:3},children:"We deeply appreciate your commitment to AirSpeak's success. Every form of support, big or small, contributes to our continued growth and sustainability."}),(0,D.jsxs)(i.A,{sx:{textAlign:"center"},children:[(0,D.jsx)(T,{onClick:()=>{window.open("https://paypal.me/YourPayPalLink","_blank")},startIcon:(0,D.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,D.jsx)("path",{d:"M12 2L15 8L21 9L16.5 14L18 20L12 17L6 20L7.5 14L3 9L9 8L12 2Z",fill:"currentColor"})}),children:"Fuel Our Journey \ud83d\ude80"}),(0,D.jsx)(s.A,{variant:"caption",sx:{display:"block",mt:2,color:"text.secondary"},children:"Every star you add brightens our path forward"})]})]})})};var z=t(8423);const U=(0,n.Ay)(y.A)((e=>{let{theme:r}=e;return{"& .MuiDialog-paper":{backgroundColor:"#8FE5FF",borderRadius:"12px",maxWidth:"400px",width:"100%"}}})),O=(0,n.Ay)(d.A)({position:"absolute",right:8,top:8,color:"#000"}),P=(0,n.Ay)(u.A)({backgroundColor:"#FF4B4B",color:"#fff",padding:"8px 24px",borderRadius:"20px",textTransform:"none","&:hover":{backgroundColor:"#E53E3E"}}),Y=e=>{let{open:r,onClose:t,reportData:n,onReport:a}=e;return(0,D.jsxs)(U,{open:r,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,D.jsxs)(C.A,{children:[(0,D.jsx)(s.A,{variant:"h6",component:"div",sx:{color:"#000",fontWeight:"bold"},children:"Report ID"}),(0,D.jsx)(O,{onClick:t,children:(0,D.jsx)(R.A,{})})]}),(0,D.jsxs)(j.A,{children:[(0,D.jsx)(i.A,{sx:{mb:2},children:(0,D.jsx)(s.A,{variant:"body1",sx:{color:"#000",mb:1},children:(null===n||void 0===n?void 0:n.id)||"No ID available"})}),(0,D.jsxs)(i.A,{sx:{mb:2},children:[(0,D.jsx)(s.A,{variant:"h6",sx:{color:"#000",mb:1},children:"Origin Country"}),(0,D.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(null===n||void 0===n?void 0:n.countryCode)&&o.createElement(z.Ay[n.countryCode],{style:{width:24,height:24}}),(0,D.jsx)(s.A,{variant:"body1",sx:{color:"#000"},children:(null===n||void 0===n?void 0:n.countryCode)||"Unknown"})]})]}),(0,D.jsx)(s.A,{variant:"body1",sx:{color:"#000",mb:2},children:"If you find any prohibited activities on the website that require immediate attention, please file a report and also email (info@airtalk.live) us with the Report ID."}),(0,D.jsx)(s.A,{variant:"body1",sx:{color:"#000",mb:3},children:"False reports may result in penalties for both parties. We store information for proper investigation."}),(0,D.jsx)(i.A,{sx:{display:"flex",justifyContent:"center"},children:(0,D.jsx)(P,{onClick:()=>{n&&a&&a(n),t()},children:"Report"})})]})]})},N=(0,n.Ay)(i.A)((e=>{let{theme:r}=e;return{width:"800px",height:"500px",display:"flex",backgroundColor:"#1C1C2D",borderRadius:"12px",overflow:"hidden",[r.breakpoints.down("md")]:{width:"100%",height:"100vh",borderRadius:0,flexDirection:"column"}}})),H=(0,n.Ay)(i.A)((e=>{let{theme:r}=e;return{width:"350px",padding:"24px",display:"flex",flexDirection:"column",alignItems:"center",borderRight:"1px solid rgba(255, 255, 255, 0.1)",[r.breakpoints.down("md")]:{width:"100%",borderRight:"none",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}}})),q=(0,n.Ay)(i.A)((e=>{let{theme:r}=e;return{flex:1,display:"flex",flexDirection:"column",backgroundColor:"#242444"}})),K=(0,n.Ay)(i.A)({flex:1,padding:"16px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"rgba(255, 255, 255, 0.05)"},"&::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.2)",borderRadius:"2px"}}),_=(0,n.Ay)(c.A)((e=>{let{isUser:r}=e;return{padding:"8px 12px",backgroundColor:r?"#6C5DD3":"rgba(255, 255, 255, 0.1)",color:"#fff",borderRadius:"12px",maxWidth:"80%",alignSelf:r?"flex-end":"flex-start"}})),G=(0,n.Ay)(i.A)({padding:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"8px"}),J=(0,n.Ay)(s.A)((e=>{let{theme:r}=e;return{color:"white",fontSize:"28px",fontWeight:"bold",letterSpacing:"0.5px",marginBottom:"16px","& span":{color:"#6C5DD3"},[r.breakpoints.down("sm")]:{fontSize:"24px"}}})),V=(0,n.Ay)(i.A)({display:"flex",gap:"20px",justifyContent:"center",marginTop:"24px",marginBottom:"24px"}),X=(0,n.Ay)(d.A)((e=>{let{color:r="primary",active:t}=e;return{backgroundColor:t?"#FF4B4B":"call"===r?"#4CAF50":"mute"===r?"#6C5DD3":"report"===r?"#FF9800":"rgba(255, 255, 255, 0.1)",color:"#fff",padding:"12px",width:"56px",height:"56px","&:hover":{backgroundColor:t?"#E53E3E":"call"===r?"#388E3C":"mute"===r?"#5648B2":"report"===r?"#F57C00":"rgba(255, 255, 255, 0.2)"},"& .MuiSvgIcon-root":{fontSize:"24px"}}})),Z=(0,n.Ay)(i.A)({display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"}),Q=(0,n.Ay)(p.A)({"& .MuiInputBase-root":{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"24px",color:"#fff"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.1)"},"& .MuiInputBase-input":{padding:"12px 16px"}}),$=(0,n.Ay)(d.A)({backgroundColor:"#6C5DD3",color:"#fff","&:hover":{backgroundColor:"#5648B2"},padding:"8px"}),ee=e=>{let{micStatus:r,socket:t,isInCall:n,setIsInCall:a}=e;const[c,d]=(0,o.useState)(!0),[p,y]=(0,o.useState)(!1),[A,C]=(0,o.useState)(!1),[j,v]=(0,o.useState)(!1),[k,w]=(0,o.useState)(null),[S,R]=(0,o.useState)([]),[I,E]=(0,o.useState)(""),[B,M]=(0,o.useState)([]),[F,T]=(0,o.useState)(!1),[z,U]=(0,o.useState)(!1),O=(0,o.useRef)(t),P=(0,o.useRef)(null),ee=(0,o.useCallback)((()=>{O.current?n?(O.current.emit("endCall",{targetId:null===k||void 0===k?void 0:k.targetId}),a(!1),U(!1),w(null),l.oR.info("Call ended")):z?(U(!1),O.current.emit("stopSearching"),l.oR.info("Search stopped")):(U(!0),O.current.emit("startCall"),l.oR.info("Searching for a partner...",{autoClose:!1,closeOnClick:!1,draggable:!1})):l.oR.error("Not connected to server")}),[n,z,k,a]),re=(0,o.useCallback)((()=>{O.current&&(O.current.on("message",(e=>{M((r=>[...r,e]))})),O.current.on("searchStatus",(e=>{U(!0),l.oR.info(e.message,{autoClose:!1,closeOnClick:!1,draggable:!1,toastId:"searchStatus"})})),O.current.on("searchTimeout",(e=>{l.oR.dismiss("searchStatus"),l.oR.warning(e.message,{autoClose:!1,closeButton:!0,closeOnClick:!1,draggable:!1,toastId:"searchTimeout",action:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("button",{onClick:()=>{l.oR.dismiss("searchTimeout"),O.current.emit("continueSearching")},style:{background:"#6C5DD3",color:"white",border:"none",padding:"5px 10px",marginRight:"10px",borderRadius:"4px",cursor:"pointer"},children:"Keep Waiting"}),(0,D.jsx)("button",{onClick:()=>{l.oR.dismiss("searchTimeout"),ee()},style:{background:"#FF4B4B",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer"},children:"Exit"})]})})})),O.current.on("callStarted",(e=>{a(!0),U(!1),w({id:e.callId,targetId:e.targetId,countryCode:e.targetCountry||"UN"}),l.oR.dismiss("searchStatus"),l.oR.dismiss("searchTimeout"),l.oR.success("Your partner is from ".concat(oe(e.targetCountry||"UN")))})),O.current.on("callEnded",(()=>{a(!1),U(!1),w(null),l.oR.info("Call ended")})),O.current.on("connect_error",(e=>{console.error("Connection error:",e),l.oR.error("Connection error. Please try again."),U(!1)})))}),[ee,a]);(0,o.useEffect)((()=>(O.current=t,t&&re(),()=>{O.current&&(O.current.off("message"),O.current.off("searchStatus"),O.current.off("searchTimeout"),O.current.off("callStarted"),O.current.off("callEnded"),O.current.off("connect_error"))})),[t,re]),(0,o.useEffect)((()=>{var e;null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[B]);const te=()=>{if(I.trim()&&O.current){const e={text:I,sender:O.current.id,timestamp:(new Date).toISOString()};O.current.emit("message",e),M((r=>[...r,e])),E("")}},oe=e=>{if(!e)return"\ud83c\udf10";const r=e.toUpperCase().split("").map((e=>127397+e.charCodeAt()));return String.fromCodePoint(...r)};return(0,D.jsxs)(N,{children:[(0,D.jsxs)(H,{children:[(0,D.jsxs)(J,{children:["Air",(0,D.jsx)("span",{children:"Speak"})]}),(0,D.jsx)(s.A,{variant:"caption",color:"text.secondary",align:"center",sx:{mb:2},children:null!==r&&void 0!==r&&r.active?F?"Mic muted":"Mic active":"Mic inactive - Please allow microphone access"}),z&&(0,D.jsx)(s.A,{variant:"body1",color:"primary",align:"center",sx:{mb:2,animation:"pulse 1.5s infinite","@keyframes pulse":{"0%":{opacity:.6},"50%":{opacity:1},"100%":{opacity:.6}}},children:"Searching for partner..."}),n&&k&&(0,D.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,mb:2,backgroundColor:"rgba(108, 93, 211, 0.1)",padding:"8px 16px",borderRadius:"8px"},children:(0,D.jsx)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,D.jsxs)(s.A,{variant:"body2",sx:{color:"#fff",display:"flex",alignItems:"center",gap:"8px"},children:["Your partner is from ",oe(k.countryCode)]})})}),(0,D.jsx)(V,{children:(0,D.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,D.jsx)(X,{color:"call",onClick:ee,sx:z||n?{backgroundColor:"#FF4B4B","&:hover":{backgroundColor:"#E53E3E"},marginRight:"16px"}:{marginRight:"16px"},children:z||n?(0,D.jsx)(h.A,{sx:{transform:"rotate(135deg)"}}):(0,D.jsx)(h.A,{})}),(0,D.jsx)(X,{color:"mute",onClick:()=>{T(!F)},active:F,sx:{marginRight:"16px"},children:F?(0,D.jsx)(g.A,{}):(0,D.jsx)(m.A,{})}),(0,D.jsx)(X,{color:"report",onClick:()=>{O.current&&k?(v(!0),l.oR.info("Opening report dialog..."),O.current.emit("reportUser",{targetId:k.targetId,callId:k.id,country:k.countryCode}),ee()):l.oR.error("Cannot report: No active call")},disabled:!n,children:(0,D.jsx)(b.A,{})})]})}),(0,D.jsxs)(Z,{children:[(0,D.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(x.A,{checked:c,onChange:e=>{var r;const t=e.target.checked;d(t),null===(r=O.current)||void 0===r||r.emit("updateAutoCall",t)},sx:{color:"rgba(255, 255, 255, 0.3)","&.Mui-checked":{color:"#6C5DD3"}}}),(0,D.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"Enable Auto Call"})]}),(0,D.jsx)(s.A,{variant:"body2",sx:{color:"text.secondary",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>y(!0),children:"Call History"}),(0,D.jsx)(u.A,{onClick:()=>C(!0),sx:{color:"#6C5DD3","&:hover":{backgroundColor:"rgba(108, 93, 211, 0.1)"}},children:"Support Us"})]})]}),(0,D.jsxs)(q,{children:[(0,D.jsxs)(K,{children:[B.map(((e,r)=>{var t,o;return(0,D.jsxs)(_,{isUser:e.sender===(null===(t=O.current)||void 0===t?void 0:t.id),children:[(0,D.jsx)(s.A,{variant:"body2",children:e.text}),(0,D.jsx)(s.A,{variant:"caption",sx:{display:"block",textAlign:e.sender===(null===(o=O.current)||void 0===o?void 0:o.id)?"right":"left",opacity:.7,mt:.5},children:new Date(e.timestamp).toLocaleTimeString()})]},r)})),(0,D.jsx)("div",{ref:P})]}),(0,D.jsxs)(G,{children:[(0,D.jsx)(Q,{fullWidth:!0,placeholder:"Type a message...",value:I,onChange:e=>E(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),te())},size:"small"}),(0,D.jsx)($,{onClick:te,children:(0,D.jsx)(f.A,{})})]})]}),p&&(0,D.jsx)(W,{open:p,onClose:()=>y(!1),history:S}),A&&(0,D.jsx)(L,{open:A,onClose:()=>C(!1)}),j&&k&&(0,D.jsx)(Y,{open:j,onClose:()=>v(!1),reportData:k,onReport:e=>{O.current&&e&&O.current.emit("reportUser",{targetId:e.targetId,callId:e.id})}})]})},re=(0,n.Ay)(i.A)((e=>{let{theme:r}=e;return{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(180deg, #1a1a2e 0%, #16162c 100%)",flex:1}})),te=(0,n.Ay)(i.A)((e=>{let{theme:r}=e;return{display:"flex",flexDirection:"column",alignItems:"center",gap:r.spacing(2),padding:r.spacing(3),background:"rgba(0,0,0,0.5)",borderRadius:r.spacing(1),color:"white"}})),oe=e=>{let{socket:r}=e;const[t,n]=(0,o.useState)(!1),[i,c]=(0,o.useState)({active:!1,stream:null}),d=(0,o.useCallback)((async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});c({active:!0,stream:e}),l.oR.success("Microphone access granted")}catch(e){console.error("Microphone error:",e),c({active:!1,stream:null}),l.oR.error("Microphone access is required. Please allow microphone access and refresh the page.")}}),[]);return(0,o.useEffect)((()=>{if(r)return d(),()=>{i.stream&&i.stream.getTracks().forEach((e=>e.stop()))}}),[r,d,i.stream]),r?(0,D.jsx)(re,{children:(0,D.jsx)(ee,{micStatus:i,socket:r,isInCall:t,setIsInCall:n})}):(0,D.jsx)(re,{children:(0,D.jsxs)(te,{children:[(0,D.jsx)(a.A,{color:"inherit",size:40}),(0,D.jsx)(s.A,{variant:"body1",children:"Connecting to server..."})]})})}}}]);
//# sourceMappingURL=219.1a461848.chunk.js.map